РезультатОбработки.ClassId = 32;
	Данные = Новый Структура;

	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	УпаковкиЕдиницыИзмерения.Код КАК Code,
	|	УпаковкиЕдиницыИзмерения.Наименование КАК Name,
	|	УпаковкиЕдиницыИзмерения.НаименованиеПолное КАК NameFull,
	|	УпаковкиЕдиницыИзмерения.МеждународноеСокращение КАК ClassifierUnitsMesurement,
	|	ВЫБОР
	|		КОГДА УпаковкиЕдиницыИзмерения.ТипИзмеряемойВеличины = ЗНАЧЕНИЕ(Перечисление.ТипыИзмеряемыхВеличин.Вес)
	|			ТОГДА ИСТИНА
	|		ИНАЧЕ ЛОЖЬ
	|	КОНЕЦ КАК Weight,
	|	ЕСТЬNULL(упИдентификаторыОбмена.Идентификатор, ""00000000-0000-0000-0000-000000000000"") КАК ID,
	|	ЕСТЬNULL(упИдентификаторыОбменаЕдиницаИзмерения.Идентификатор, ""00000000-0000-0000-0000-000000000000"") КАК ClassifierID,
	|	упИдентификаторыОбменаВладелецУпаковки.Идентификатор КАК OwnerID
	|ИЗ
	|	Справочник.УпаковкиЕдиницыИзмерения КАК УпаковкиЕдиницыИзмерения
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.упИдентификаторыОбмена КАК упИдентификаторыОбмена
	|		ПО УпаковкиЕдиницыИзмерения.Ссылка = упИдентификаторыОбмена.Объект
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.упИдентификаторыОбмена КАК упИдентификаторыОбменаЕдиницаИзмерения
	|		ПО УпаковкиЕдиницыИзмерения.ЕдиницаИзмерения = упИдентификаторыОбменаЕдиницаИзмерения.Объект
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.упИдентификаторыОбмена КАК упИдентификаторыОбменаВладелецУпаковки
	|		ПО УпаковкиЕдиницыИзмерения.Владелец = упИдентификаторыОбменаВладелецУпаковки.Объект
	|ГДЕ
	|	УпаковкиЕдиницыИзмерения.Ссылка = &Ссылка";

	//|	И УпаковкиЕдиницыИзмерения.Владелец = ЗНАЧЕНИЕ(Справочник.НаборыУпаковок.БазовыеЕдиницыИзмерения)";
	
	Запрос.УстановитьПараметр("Ссылка", ОбъектОбработки.Ссылка);
		
	Выборка   = Запрос.Выполнить().Выбрать(); 	
	
	ФиксСтруктураКласса = "Code,Name,FullName,ClassifierUnitsMesurement,ID,OwnerID,ClassifierID";
			
	Если Выборка.Следующий() тогда
		
		СтруктураДанных = Новый Структура(ФиксСтруктураКласса);
		ЗаполнитьЗначенияСвойств(СтруктураДанных, Выборка);   		
								
		РезультатОбработки.Body = сшпОбщегоНазначения.ПреобразоватьСтруктуруПоФормату(Перечисления.сшпФорматыСообщений.XML, СтруктураДанных);	
			//ВРЕМ
		РезультатОбработки.Receivers.Добавить("wms_prod");	
		//РезультатОбработки.Receivers.Добавить("WMS_test");
			
	Иначе
		СостояниеСообщения = Перечисления.сшпСтатусыСообщений.ОбработкаОтменена;		
	КонецЕсли;
